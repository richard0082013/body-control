const point = (x, y) => ({ x, y })

const defaultPoints = {
  head: point(50, 16),
  neck: point(50, 26),
  hip: point(50, 52),
  leftElbow: point(42, 34),
  leftHand: point(38, 52),
  rightElbow: point(58, 34),
  rightHand: point(62, 52),
  leftKnee: point(46, 72),
  leftFoot: point(46, 92),
  rightKnee: point(54, 72),
  rightFoot: point(54, 92),
}

const floorLine = { type: 'line', x1: 12, y1: 100, x2: 108, y2: 100, stroke: '#cbd5f5' }

function createFrame({ label = '', points = {}, extras = [] }) {
  const resolvedPoints = { ...defaultPoints }

  Object.entries(points).forEach(([key, value]) => {
    if (Array.isArray(value)) {
      resolvedPoints[key] = point(value[0], value[1])
    } else if (value && typeof value === 'object' && 'x' in value && 'y' in value) {
      resolvedPoints[key] = value
    }
  })

  return {
    label,
    points: resolvedPoints,
    extras,
  }
}

export const exerciseVisuals = {
  rowSeated: [
    createFrame({
      label: '起始：手臂前伸',
      points: {
        head: [50, 18],
        neck: [50, 28],
        hip: [48, 58],
        leftElbow: [48, 38],
        leftHand: [78, 42],
        rightElbow: [54, 38],
        rightHand: [82, 46],
        leftKnee: [64, 70],
        leftFoot: [72, 90],
        rightKnee: [36, 70],
        rightFoot: [28, 90],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 30, y: 60, width: 44, height: 6, rx: 3, fill: 'rgba(148,163,184,0.35)' },
        { type: 'rect', x: 32, y: 66, width: 4, height: 18, fill: 'rgba(148,163,184,0.45)' },
        { type: 'rect', x: 68, y: 66, width: 4, height: 18, fill: 'rgba(148,163,184,0.45)' },
        { type: 'polyline', points: '78 42 96 40', strokeWidth: 2, stroke: 'url(#bandGradient)' },
        { type: 'polyline', points: '82 46 98 44', strokeWidth: 2, stroke: 'url(#bandGradient)' },
      ],
    }),
    createFrame({
      label: '拉动：夹肩带肘',
      points: {
        head: [50, 18],
        neck: [50, 28],
        hip: [48, 58],
        leftElbow: [54, 40],
        leftHand: [48, 44],
        rightElbow: [60, 40],
        rightHand: [54, 46],
        leftKnee: [64, 70],
        leftFoot: [72, 90],
        rightKnee: [36, 70],
        rightFoot: [28, 90],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 30, y: 60, width: 44, height: 6, rx: 3, fill: 'rgba(148,163,184,0.35)' },
        { type: 'rect', x: 32, y: 66, width: 4, height: 18, fill: 'rgba(148,163,184,0.45)' },
        { type: 'rect', x: 68, y: 66, width: 4, height: 18, fill: 'rgba(148,163,184,0.45)' },
        { type: 'polyline', points: '48 44 96 40', strokeWidth: 2, stroke: 'url(#bandGradient)' },
        { type: 'polyline', points: '54 46 98 44', strokeWidth: 2, stroke: 'url(#bandGradient)' },
      ],
    }),
  ],
  wallSquat: [
    createFrame({
      label: '准备贴墙',
      points: {
        head: [76, 16],
        neck: [76, 26],
        hip: [74, 52],
        leftElbow: [64, 34],
        leftHand: [60, 50],
        rightElbow: [84, 34],
        rightHand: [88, 50],
        leftKnee: [68, 72],
        leftFoot: [68, 94],
        rightKnee: [80, 72],
        rightFoot: [80, 94],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 92, y: 10, width: 4, height: 90, fill: 'rgba(148,163,184,0.35)' },
      ],
    }),
    createFrame({
      label: '下蹲至 90°',
      points: {
        head: [76, 22],
        neck: [76, 30],
        hip: [74, 64],
        leftElbow: [66, 44],
        leftHand: [60, 60],
        rightElbow: [84, 44],
        rightHand: [88, 60],
        leftKnee: [72, 84],
        leftFoot: [72, 100],
        rightKnee: [84, 84],
        rightFoot: [84, 100],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 92, y: 10, width: 4, height: 90, fill: 'rgba(148,163,184,0.35)' },
      ],
    }),
  ],
  kneelingPushUp: [
    createFrame({
      label: '支撑准备',
      points: {
        head: [30, 46],
        neck: [36, 50],
        hip: [54, 62],
        leftElbow: [40, 58],
        leftHand: [24, 72],
        rightElbow: [44, 56],
        rightHand: [32, 70],
        leftKnee: [68, 80],
        leftFoot: [68, 94],
        rightKnee: [80, 82],
        rightFoot: [80, 96],
      },
      extras: [floorLine],
    }),
    createFrame({
      label: '屈肘靠近地面',
      points: {
        head: [28, 54],
        neck: [34, 58],
        hip: [52, 68],
        leftElbow: [36, 66],
        leftHand: [24, 76],
        rightElbow: [40, 64],
        rightHand: [32, 74],
        leftKnee: [68, 82],
        leftFoot: [68, 96],
        rightKnee: [80, 84],
        rightFoot: [80, 98],
      },
      extras: [floorLine],
    }),
  ],
  standingLegAbduction: [
    createFrame({
      label: '基础站姿',
      points: {
        head: [50, 18],
        neck: [50, 28],
        hip: [50, 54],
        leftElbow: [42, 36],
        leftHand: [38, 52],
        rightElbow: [58, 36],
        rightHand: [62, 52],
        leftKnee: [46, 74],
        leftFoot: [46, 94],
        rightKnee: [54, 74],
        rightFoot: [54, 94],
      },
      extras: [floorLine],
    }),
    createFrame({
      label: '侧抬腿',
      points: {
        head: [50, 18],
        neck: [50, 28],
        hip: [50, 54],
        leftElbow: [42, 36],
        leftHand: [38, 52],
        rightElbow: [58, 36],
        rightHand: [62, 52],
        leftKnee: [42, 74],
        leftFoot: [36, 92],
        rightKnee: [54, 70],
        rightFoot: [70, 88],
      },
      extras: [
        floorLine,
        { type: 'polyline', points: '60 84 78 80', strokeWidth: 2, stroke: 'url(#bandGradient)' },
      ],
    }),
  ],
  catCow: [
    createFrame({
      label: '拱背（猫）',
      points: {
        head: [56, 46],
        neck: [52, 50],
        hip: [50, 70],
        leftElbow: [38, 62],
        leftHand: [34, 78],
        rightElbow: [62, 62],
        rightHand: [66, 78],
        leftKnee: [42, 84],
        leftFoot: [42, 96],
        rightKnee: [58, 84],
        rightFoot: [58, 96],
      },
      extras: [floorLine],
    }),
    createFrame({
      label: '塌背（牛）',
      points: {
        head: [62, 56],
        neck: [58, 60],
        hip: [52, 66],
        leftElbow: [38, 62],
        leftHand: [34, 78],
        rightElbow: [62, 62],
        rightHand: [66, 78],
        leftKnee: [42, 84],
        leftFoot: [42, 96],
        rightKnee: [58, 84],
        rightFoot: [58, 96],
      },
      extras: [floorLine],
    }),
  ],
  gluteBridge: [
    createFrame({
      label: '仰卧准备',
      points: {
        head: [28, 78],
        neck: [36, 78],
        hip: [52, 78],
        leftElbow: [40, 82],
        leftHand: [32, 90],
        rightElbow: [44, 80],
        rightHand: [36, 88],
        leftKnee: [68, 72],
        leftFoot: [84, 92],
        rightKnee: [70, 86],
        rightFoot: [90, 100],
      },
      extras: [floorLine],
    }),
    createFrame({
      label: '桥式顶髋',
      points: {
        head: [28, 78],
        neck: [36, 74],
        hip: [56, 62],
        leftElbow: [44, 74],
        leftHand: [36, 84],
        rightElbow: [48, 72],
        rightHand: [40, 82],
        leftKnee: [72, 64],
        leftFoot: [86, 90],
        rightKnee: [74, 78],
        rightFoot: [92, 96],
      },
      extras: [floorLine],
    }),
  ],
  seatedTwist: [
    createFrame({
      label: '坐姿准备',
      points: {
        head: [48, 18],
        neck: [48, 28],
        hip: [48, 58],
        leftElbow: [38, 40],
        leftHand: [32, 56],
        rightElbow: [58, 40],
        rightHand: [68, 52],
        leftKnee: [60, 72],
        leftFoot: [66, 90],
        rightKnee: [38, 72],
        rightFoot: [32, 90],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 30, y: 60, width: 36, height: 6, rx: 3, fill: 'rgba(148,163,184,0.35)' },
      ],
    }),
    createFrame({
      label: '扭转伸展',
      points: {
        head: [48, 18],
        neck: [48, 28],
        hip: [48, 58],
        leftElbow: [40, 40],
        leftHand: [28, 54],
        rightElbow: [62, 38],
        rightHand: [76, 32],
        leftKnee: [60, 72],
        leftFoot: [66, 90],
        rightKnee: [38, 72],
        rightFoot: [32, 90],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 30, y: 60, width: 36, height: 6, rx: 3, fill: 'rgba(148,163,184,0.35)' },
      ],
    }),
  ],
  birdDog: [
    createFrame({
      label: '四点跪准备',
      points: {
        head: [48, 48],
        neck: [48, 54],
        hip: [52, 74],
        leftElbow: [36, 62],
        leftHand: [32, 78],
        rightElbow: [60, 62],
        rightHand: [64, 78],
        leftKnee: [44, 84],
        leftFoot: [44, 98],
        rightKnee: [60, 86],
        rightFoot: [60, 98],
      },
      extras: [floorLine],
    }),
    createFrame({
      label: '对侧伸展',
      points: {
        head: [50, 46],
        neck: [50, 50],
        hip: [52, 70],
        leftElbow: [36, 60],
        leftHand: [24, 54],
        rightElbow: [62, 60],
        rightHand: [74, 76],
        leftKnee: [46, 86],
        leftFoot: [54, 102],
        rightKnee: [62, 78],
        rightFoot: [78, 74],
      },
      extras: [floorLine],
    }),
  ],
  chairStand: [
    createFrame({
      label: '坐姿准备',
      points: {
        head: [52, 18],
        neck: [52, 26],
        hip: [50, 58],
        leftElbow: [44, 36],
        leftHand: [38, 50],
        rightElbow: [60, 36],
        rightHand: [66, 50],
        leftKnee: [66, 72],
        leftFoot: [70, 92],
        rightKnee: [40, 72],
        rightFoot: [36, 92],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 34, y: 60, width: 36, height: 6, rx: 3, fill: 'rgba(148,163,184,0.3)' },
        { type: 'rect', x: 36, y: 66, width: 4, height: 18, fill: 'rgba(148,163,184,0.4)' },
        { type: 'rect', x: 66, y: 66, width: 4, height: 18, fill: 'rgba(148,163,184,0.4)' },
      ],
    }),
    createFrame({
      label: '站起延伸',
      points: {
        head: [52, 16],
        neck: [52, 26],
        hip: [52, 46],
        leftElbow: [46, 34],
        leftHand: [44, 48],
        rightElbow: [58, 34],
        rightHand: [60, 48],
        leftKnee: [50, 68],
        leftFoot: [50, 92],
        rightKnee: [54, 68],
        rightFoot: [54, 92],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 34, y: 60, width: 36, height: 6, rx: 3, fill: 'rgba(148,163,184,0.3)' },
      ],
    }),
  ],
  reverseLunge: [
    createFrame({
      label: '站姿准备',
      points: {
        head: [52, 18],
        neck: [52, 28],
        hip: [52, 52],
        leftElbow: [44, 36],
        leftHand: [40, 52],
        rightElbow: [60, 36],
        rightHand: [64, 52],
        leftKnee: [50, 74],
        leftFoot: [48, 94],
        rightKnee: [58, 74],
        rightFoot: [60, 94],
      },
      extras: [floorLine],
    }),
    createFrame({
      label: '后撤屈膝',
      points: {
        head: [52, 20],
        neck: [52, 30],
        hip: [50, 64],
        leftElbow: [44, 40],
        leftHand: [40, 56],
        rightElbow: [60, 40],
        rightHand: [62, 56],
        leftKnee: [46, 84],
        leftFoot: [46, 100],
        rightKnee: [68, 82],
        rightFoot: [82, 94],
      },
      extras: [floorLine],
    }),
  ],
  calfRaise: [
    createFrame({
      label: '脚跟着地',
      points: {
        head: [50, 18],
        neck: [50, 28],
        hip: [50, 52],
        leftElbow: [42, 36],
        leftHand: [38, 52],
        rightElbow: [58, 36],
        rightHand: [62, 52],
        leftKnee: [46, 72],
        leftFoot: [46, 94],
        rightKnee: [54, 72],
        rightFoot: [54, 94],
      },
      extras: [floorLine],
    }),
    createFrame({
      label: '脚跟抬起',
      points: {
        head: [50, 18],
        neck: [50, 28],
        hip: [50, 52],
        leftElbow: [42, 36],
        leftHand: [38, 52],
        rightElbow: [58, 36],
        rightHand: [62, 52],
        leftKnee: [46, 72],
        leftFoot: [46, 86],
        rightKnee: [54, 72],
        rightFoot: [54, 86],
      },
      extras: [floorLine],
    }),
  ],
  bandChestPress: [
    createFrame({
      label: '准备：肘屈',
      points: {
        head: [48, 18],
        neck: [48, 28],
        hip: [48, 52],
        leftElbow: [54, 34],
        leftHand: [58, 44],
        rightElbow: [42, 34],
        rightHand: [36, 44],
        leftKnee: [44, 72],
        leftFoot: [44, 94],
        rightKnee: [52, 72],
        rightFoot: [52, 94],
      },
      extras: [
        floorLine,
        { type: 'polyline', points: '36 44 22 42', strokeWidth: 2.2, stroke: 'url(#bandGradient)' },
        { type: 'polyline', points: '58 44 22 46', strokeWidth: 2.2, stroke: 'url(#bandGradient)' },
      ],
    }),
    createFrame({
      label: '向前推举',
      points: {
        head: [48, 18],
        neck: [48, 28],
        hip: [48, 52],
        leftElbow: [50, 34],
        leftHand: [66, 36],
        rightElbow: [46, 34],
        rightHand: [62, 40],
        leftKnee: [44, 72],
        leftFoot: [44, 94],
        rightKnee: [52, 72],
        rightFoot: [52, 94],
      },
      extras: [
        floorLine,
        { type: 'polyline', points: '66 36 24 40', strokeWidth: 2.2, stroke: 'url(#bandGradient)' },
        { type: 'polyline', points: '62 40 24 44', strokeWidth: 2.2, stroke: 'url(#bandGradient)' },
      ],
    }),
  ],
  kneelingPlank: [
    createFrame({
      label: '膝撑平板',
      points: {
        head: [34, 52],
        neck: [38, 54],
        hip: [54, 64],
        leftElbow: [40, 60],
        leftHand: [28, 74],
        rightElbow: [44, 60],
        rightHand: [32, 74],
        leftKnee: [68, 78],
        leftFoot: [68, 94],
        rightKnee: [80, 80],
        rightFoot: [80, 96],
      },
      extras: [floorLine],
    }),
    createFrame({
      label: '核心保持',
      points: {
        head: [32, 50],
        neck: [36, 52],
        hip: [52, 62],
        leftElbow: [38, 58],
        leftHand: [28, 72],
        rightElbow: [42, 58],
        rightHand: [32, 72],
        leftKnee: [66, 76],
        leftFoot: [66, 92],
        rightKnee: [78, 78],
        rightFoot: [78, 94],
      },
      extras: [floorLine],
    }),
  ],
  bandExternalRotation: [
    createFrame({
      label: '肘贴身体',
      points: {
        head: [48, 18],
        neck: [48, 28],
        hip: [48, 52],
        leftElbow: [42, 38],
        leftHand: [38, 48],
        rightElbow: [54, 38],
        rightHand: [58, 48],
        leftKnee: [44, 72],
        leftFoot: [44, 94],
        rightKnee: [52, 72],
        rightFoot: [52, 94],
      },
      extras: [
        floorLine,
        { type: 'polyline', points: '58 48 70 50', strokeWidth: 2, stroke: 'url(#bandGradient)' },
      ],
    }),
    createFrame({
      label: '向外旋开',
      points: {
        head: [48, 18],
        neck: [48, 28],
        hip: [48, 52],
        leftElbow: [42, 38],
        leftHand: [32, 44],
        rightElbow: [54, 38],
        rightHand: [66, 44],
        leftKnee: [44, 72],
        leftFoot: [44, 94],
        rightKnee: [52, 72],
        rightFoot: [52, 94],
      },
      extras: [
        floorLine,
        { type: 'polyline', points: '66 44 78 46', strokeWidth: 2, stroke: 'url(#bandGradient)' },
      ],
    }),
  ],
  standingRow: [
    createFrame({
      label: '手臂前伸',
      points: {
        head: [50, 18],
        neck: [50, 28],
        hip: [50, 52],
        leftElbow: [48, 36],
        leftHand: [74, 40],
        rightElbow: [52, 36],
        rightHand: [80, 44],
        leftKnee: [46, 72],
        leftFoot: [46, 94],
        rightKnee: [54, 72],
        rightFoot: [54, 94],
      },
      extras: [
        floorLine,
        { type: 'polyline', points: '74 40 96 38', strokeWidth: 2.2, stroke: 'url(#bandGradient)' },
        { type: 'polyline', points: '80 44 98 42', strokeWidth: 2.2, stroke: 'url(#bandGradient)' },
      ],
    }),
    createFrame({
      label: '拉向身体',
      points: {
        head: [50, 18],
        neck: [50, 28],
        hip: [50, 52],
        leftElbow: [56, 36],
        leftHand: [48, 40],
        rightElbow: [60, 36],
        rightHand: [52, 42],
        leftKnee: [46, 72],
        leftFoot: [46, 94],
        rightKnee: [54, 72],
        rightFoot: [54, 94],
      },
      extras: [
        floorLine,
        { type: 'polyline', points: '48 40 96 38', strokeWidth: 2.2, stroke: 'url(#bandGradient)' },
        { type: 'polyline', points: '52 42 98 42', strokeWidth: 2.2, stroke: 'url(#bandGradient)' },
      ],
    }),
  ],
  lateralStep: [
    createFrame({
      label: '半蹲起始',
      points: {
        head: [50, 20],
        neck: [50, 30],
        hip: [50, 58],
        leftElbow: [44, 38],
        leftHand: [40, 56],
        rightElbow: [56, 38],
        rightHand: [60, 56],
        leftKnee: [44, 78],
        leftFoot: [44, 94],
        rightKnee: [56, 78],
        rightFoot: [56, 94],
      },
      extras: [
        floorLine,
        { type: 'polyline', points: '44 86 56 86', strokeWidth: 3, stroke: 'url(#bandGradient)' },
      ],
    }),
    createFrame({
      label: '侧步移动',
      points: {
        head: [52, 20],
        neck: [52, 30],
        hip: [54, 58],
        leftElbow: [46, 38],
        leftHand: [42, 56],
        rightElbow: [58, 38],
        rightHand: [62, 56],
        leftKnee: [50, 78],
        leftFoot: [42, 94],
        rightKnee: [64, 78],
        rightFoot: [68, 94],
      },
      extras: [
        floorLine,
        { type: 'polyline', points: '42 86 68 86', strokeWidth: 3, stroke: 'url(#bandGradient)' },
        { type: 'text', x: 56, y: 82, value: '→', fill: '#1d4ed8' },
      ],
    }),
  ],
  reverseCrunch: [
    createFrame({
      label: '仰卧准备',
      points: {
        head: [28, 80],
        neck: [36, 80],
        hip: [52, 80],
        leftElbow: [40, 84],
        leftHand: [32, 96],
        rightElbow: [44, 82],
        rightHand: [36, 94],
        leftKnee: [68, 72],
        leftFoot: [84, 94],
        rightKnee: [70, 86],
        rightFoot: [90, 102],
      },
      extras: [floorLine],
    }),
    createFrame({
      label: '膝抬腹收',
      points: {
        head: [28, 80],
        neck: [36, 78],
        hip: [52, 70],
        leftElbow: [44, 78],
        leftHand: [36, 90],
        rightElbow: [48, 76],
        rightHand: [40, 88],
        leftKnee: [64, 62],
        leftFoot: [70, 54],
        rightKnee: [74, 70],
        rightFoot: [80, 60],
      },
      extras: [floorLine],
    }),
  ],
  shoulderPress: [
    createFrame({
      label: '起始位',
      points: {
        head: [50, 18],
        neck: [50, 28],
        hip: [50, 52],
        leftElbow: [44, 34],
        leftHand: [44, 24],
        rightElbow: [56, 34],
        rightHand: [56, 24],
        leftKnee: [46, 72],
        leftFoot: [46, 94],
        rightKnee: [54, 72],
        rightFoot: [54, 94],
      },
      extras: [
        floorLine,
        { type: 'circle', cx: 44, cy: 22, r: 4, fill: 'rgba(30,64,175,0.25)', stroke: '#1d4ed8' },
        { type: 'circle', cx: 56, cy: 22, r: 4, fill: 'rgba(30,64,175,0.25)', stroke: '#1d4ed8' },
      ],
    }),
    createFrame({
      label: '向上推举',
      points: {
        head: [50, 18],
        neck: [50, 28],
        hip: [50, 52],
        leftElbow: [48, 26],
        leftHand: [48, 12],
        rightElbow: [52, 26],
        rightHand: [52, 10],
        leftKnee: [46, 72],
        leftFoot: [46, 94],
        rightKnee: [54, 72],
        rightFoot: [54, 94],
      },
      extras: [
        floorLine,
        { type: 'circle', cx: 48, cy: 10, r: 4, fill: 'rgba(30,64,175,0.25)', stroke: '#1d4ed8' },
        { type: 'circle', cx: 52, cy: 8, r: 4, fill: 'rgba(30,64,175,0.25)', stroke: '#1d4ed8' },
      ],
    }),
  ],
  downwardDog: [
    createFrame({
      label: '下犬式准备',
      points: {
        head: [46, 42],
        neck: [48, 46],
        hip: [60, 68],
        leftElbow: [40, 58],
        leftHand: [30, 82],
        rightElbow: [48, 58],
        rightHand: [38, 82],
        leftKnee: [66, 82],
        leftFoot: [80, 98],
        rightKnee: [74, 82],
        rightFoot: [88, 98],
      },
      extras: [floorLine],
    }),
    createFrame({
      label: '臀部抬高',
      points: {
        head: [44, 40],
        neck: [46, 44],
        hip: [60, 52],
        leftElbow: [38, 56],
        leftHand: [30, 80],
        rightElbow: [46, 56],
        rightHand: [38, 80],
        leftKnee: [66, 78],
        leftFoot: [78, 96],
        rightKnee: [74, 78],
        rightFoot: [86, 96],
      },
      extras: [floorLine],
    }),
  ],
  quadStretch: [
    createFrame({
      label: '站立扶墙',
      points: {
        head: [46, 18],
        neck: [46, 28],
        hip: [46, 52],
        leftElbow: [36, 36],
        leftHand: [24, 42],
        rightElbow: [54, 36],
        rightHand: [52, 50],
        leftKnee: [42, 72],
        leftFoot: [42, 94],
        rightKnee: [58, 74],
        rightFoot: [70, 94],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 18, y: 12, width: 4, height: 88, fill: 'rgba(148,163,184,0.35)' },
      ],
    }),
    createFrame({
      label: '手抓脚背',
      points: {
        head: [46, 18],
        neck: [46, 28],
        hip: [46, 52],
        leftElbow: [36, 36],
        leftHand: [24, 42],
        rightElbow: [54, 38],
        rightHand: [58, 64],
        leftKnee: [42, 72],
        leftFoot: [42, 94],
        rightKnee: [58, 60],
        rightFoot: [62, 44],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 18, y: 12, width: 4, height: 88, fill: 'rgba(148,163,184,0.35)' },
      ],
    }),
  ],
  chestStretch: [
    createFrame({
      label: '面向墙壁',
      points: {
        head: [48, 18],
        neck: [48, 28],
        hip: [48, 52],
        leftElbow: [42, 36],
        leftHand: [28, 40],
        rightElbow: [56, 36],
        rightHand: [70, 40],
        leftKnee: [44, 72],
        leftFoot: [44, 94],
        rightKnee: [52, 72],
        rightFoot: [52, 94],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 22, y: 12, width: 4, height: 88, fill: 'rgba(148,163,184,0.35)' },
      ],
    }),
    createFrame({
      label: '胸部打开',
      points: {
        head: [48, 18],
        neck: [48, 28],
        hip: [48, 52],
        leftElbow: [40, 36],
        leftHand: [24, 34],
        rightElbow: [58, 36],
        rightHand: [76, 32],
        leftKnee: [44, 72],
        leftFoot: [44, 94],
        rightKnee: [52, 72],
        rightFoot: [52, 94],
      },
      extras: [
        floorLine,
        { type: 'rect', x: 22, y: 12, width: 4, height: 88, fill: 'rgba(148,163,184,0.35)' },
      ],
    }),
  ],
}

export const exerciseLibrary = [
  {
    id: 'seated-band-row',
    name: '坐姿划船（弹力带）',
    summary: '强化背部与后肩肌群，帮助改善久坐驼背与肩部稳定。',
    focusAreas: ['背阔肌', '菱形肌', '后三角肌'],
    equipment: '弹力带、稳固椅子',
    steps: [
      '坐在椅子前 1/3 处，双脚平放地面，与髋同宽。',
      '弹力带固定在前方胸口高度，手臂向前伸直握住带子。',
      '呼气时夹紧肩胛、弯曲手肘，将带子拉向腰际。',
      '吸气还原，保持胸口打开，避免耸肩。',
    ],
    tips: [
      '背部保持挺直，核心轻收。',
      '动作过程中保持肩膀下沉，不要猛力回弹。',
    ],
    visualId: 'rowSeated',
  },
  {
    id: 'wall-squat',
    name: '靠墙深蹲',
    summary: '低冲击的下肢力量训练，能激活臀腿并保护膝盖。',
    focusAreas: ['股四头肌', '臀大肌', '核心稳定'],
    equipment: '墙面',
    steps: [
      '背靠墙站立，双脚前移约 30-40cm，脚尖稍朝外。',
      '吸气准备，膝盖缓慢弯曲，下滑至大腿接近地面平行。',
      '保持膝盖与脚尖方向一致，停留 2-3 秒。',
      '呼气时脚跟发力，沿墙回到站姿。',
    ],
    tips: [
      '腰背全程紧贴墙面，避免弯腰驼背。',
      '膝盖不过脚尖，如感受膝压大可缩短下蹲幅度。',
    ],
    visualId: 'wallSquat',
  },
  {
    id: 'kneeling-push-up',
    name: '跪姿俯卧撑',
    summary: '在保护肩肘的前提下训练胸肌、三头肌与核心。',
    focusAreas: ['胸大肌', '肱三头肌', '核心'],
    equipment: '瑜伽垫（可选）',
    steps: [
      '双手撑地，手掌略宽于肩；膝盖落地，脚背贴地。',
      '保持从头到膝的直线，核心稍收，肩胛稳定。',
      '吸气屈肘向下，肘部约 45° 角，胸部接近地面。',
      '呼气推起，手臂伸直但不锁死，回到准备姿势。',
    ],
    tips: [
      '目视地面前方约 30cm，避免抬头或塌腰。',
      '若肩部压力大，可减小下放幅度或靠墙进行。',
    ],
    visualId: 'kneelingPushUp',
  },
  {
    id: 'standing-side-leg-raise',
    name: '站姿侧抬腿',
    summary: '激活臀中肌，改善骨盆稳定与行走平衡能力。',
    focusAreas: ['臀中肌', '核心稳定'],
    equipment: '弹力带（可选）',
    steps: [
      '双脚与髋同宽站立，可扶墙保持平衡。',
      '核心收紧，骨盆保持正对正前方。',
      '缓慢将右腿向侧方抬起至 30°-45°，停留片刻后放下。',
      '换左腿重复，全程控制动作速度。',
    ],
    tips: [
      '躯干保持直立，避免侧腰塌陷。',
      '若使用弹力带，强度以可控制 10-12 次为宜。',
    ],
    visualId: 'standingLegAbduction',
  },
  {
    id: 'cat-cow',
    name: '猫牛式',
    summary: '温和活动脊柱，促进血液循环与背部灵活性。',
    focusAreas: ['脊柱灵活性', '肩胛活动'],
    equipment: '瑜伽垫',
    steps: [
      '四点支撑在垫上，手掌在肩膀正下方，膝盖与髋同宽。',
      '吸气时抬头、塌腰，尾骨上提（牛式）。',
      '呼气时低头、拱背，尾骨内收（猫式）。',
      '动作在呼吸带动下交替 8-12 次。',
    ],
    tips: [
      '动作节奏与呼吸同步，注意肩膀放松。',
      '如手腕不适，可垫毛巾或改为拳头支撑。',
    ],
    visualId: 'catCow',
  },
  {
    id: 'glute-bridge',
    name: '桥式臀桥',
    summary: '强化臀部与后链肌群，改善久坐导致的臀肌抑制。',
    focusAreas: ['臀大肌', '腘绳肌', '核心稳定'],
    equipment: '瑜伽垫',
    steps: [
      '仰卧，膝盖弯曲，脚掌平踩地面与髋同宽。',
      '手臂自然贴地，核心轻收，腰椎保持中立。',
      '呼气时脚跟发力，将髋部抬至膝、髋、肩成一直线。',
      '顶部停留 2 秒，缓慢放下，重复动作。',
    ],
    tips: [
      '保持核心收紧，避免腰部过度弓起。',
      '若小腿紧绷，可将脚掌向身体靠近一些。',
    ],
    visualId: 'gluteBridge',
  },
  {
    id: 'seated-spinal-twist',
    name: '坐姿脊柱扭转',
    summary: '缓解腰背僵硬，适合久坐后的脊柱旋转放松。',
    focusAreas: ['胸椎活动', '腰背放松'],
    equipment: '椅子',
    steps: [
      '坐于椅子前端，脊柱延展，双脚平放地面。',
      '吸气延展脊柱，双手交叉放于肩前。',
      '呼气时缓慢向右扭转上身，眼睛看向右后方。',
      '吸气回中，换侧重复，每侧 6-8 次。',
    ],
    tips: [
      '骨盆保持稳定，不随上身扭转。',
      '动作范围在舒适范围内，避免用力拉扯。',
    ],
    visualId: 'seatedTwist',
  },
  {
    id: 'bird-dog',
    name: '鸟狗式',
    summary: '对侧伸展增强核心控制与躯干稳定，降低腰痛风险。',
    focusAreas: ['核心', '臀部', '肩胛稳定'],
    equipment: '瑜伽垫',
    steps: [
      '四点支撑，手掌在肩下，膝盖在髋下。',
      '吸气准备，呼气时右手向前、左腿向后伸直。',
      '保持骨盆稳定，目视地面；吸气回到中心。',
      '换侧进行，每侧 8-10 次。',
    ],
    tips: [
      '腰部保持平直，避免骨盆摇摆。',
      '若平衡困难，可只伸手或只伸腿。',
    ],
    visualId: 'birdDog',
  },
  {
    id: 'chair-stand',
    name: '椅子起立',
    summary: '训练下肢发力顺序与髋膝协同，有助于日常起身动作。',
    focusAreas: ['股四头肌', '臀大肌', '核心'],
    equipment: '稳固椅子',
    steps: [
      '坐在椅子前端，双脚与肩同宽，脚掌踩实。',
      '身体微微前倾，核心收紧，双臂可前伸保持平衡。',
      '呼气时脚跟发力，站起至身体完全伸直。',
      '缓慢控制坐下，臀部轻触椅面后再站起。',
    ],
    tips: [
      '膝盖保持与脚尖方向一致，避免内扣。',
      '如站起困难，可使用双手扶助或座位加高。',
    ],
    visualId: 'chairStand',
  },
  {
    id: 'reverse-lunge',
    name: '弓步后撤',
    summary: '增强下肢力量与平衡性，对膝盖友好的弓步变式。',
    focusAreas: ['股四头肌', '臀部', '核心'],
    equipment: '自重即可',
    steps: [
      '站立，双脚与髋同宽，核心收紧。',
      '一脚向后跨步，后脚脚尖着地，膝盖朝向地面。',
      '前腿膝盖保持 90°，重心在前脚脚跟。',
      '呼气时前脚发力站起，回到起始位置，换脚重复。',
    ],
    tips: [
      '保持上身直立，避免前倾过多。',
      '若平衡不稳，可扶墙或椅子支撑。',
    ],
    visualId: 'reverseLunge',
  },
  {
    id: 'standing-calf-raise',
    name: '站姿提踵',
    summary: '强化小腿肌群，提升踝关节稳定与下肢血液循环。',
    focusAreas: ['腓肠肌', '比目鱼肌'],
    equipment: '自重或台阶',
    steps: [
      '站立，脚掌与髋同宽，核心收紧。',
      '缓慢抬起脚跟至最高点，脚尖支撑体重。',
      '停留 1-2 秒，控制脚跟慢慢下降。',
      '可扶墙或椅子保持平衡。',
    ],
    tips: [
      '动作速度均匀，避免冲击地面。',
      '如小腿易抽筋，动作前后进行足够拉伸。',
    ],
    visualId: 'calfRaise',
  },
  {
    id: 'band-hip-abduction',
    name: '弹力带臀外展',
    summary: '加强臀外侧肌群，与侧抬腿类似但阻力更集中。',
    focusAreas: ['臀中肌', '髋稳定'],
    equipment: '闭合弹力带',
    steps: [
      '弹力带套在膝盖上方，双脚与髋同宽站立。',
      '微屈膝，核心收紧，保持脊柱中立。',
      '缓慢将右腿向外侧推开 20-30°，感受臀侧发力。',
      '控制回中，换左腿重复。',
    ],
    tips: [
      '避免身体侧倾，可扶墙保持稳定。',
      '动作幅度不必过大，以臀侧发力为主。',
    ],
    visualId: 'standingLegAbduction',
  },
  {
    id: 'band-chest-press',
    name: '弹力带胸推',
    summary: '在低负荷下训练胸肌推力，并改善肩胛稳定。',
    focusAreas: ['胸大肌', '三头肌', '肩部稳定'],
    equipment: '弹力带（固定于身后）',
    steps: [
      '弹力带固定在身后胸口高度，两手握住带子。',
      '肘部弯曲 90°，肩胛收紧，站稳核心收紧。',
      '呼气时向前推至手臂伸直，保持肩膀下沉。',
      '吸气屈肘回到起始位置，肩胛保持稳定。',
    ],
    tips: [
      '推举时避免腰椎过度前凸，可前后错步稳定。',
      '若肩关节不适，减小阻力或缩短推举距离。',
    ],
    visualId: 'bandChestPress',
  },
  {
    id: 'single-arm-row-seated',
    name: '坐姿单臂划船',
    summary: '单侧发力可矫正左右肌力差异，强化背部肌群。',
    focusAreas: ['背阔肌', '肩胛稳定'],
    equipment: '弹力带、稳固椅子',
    steps: [
      '坐在椅子上，弹力带固定于前方，单手握带。',
      '保持胸口打开，肩胛先收紧，再弯曲手肘拉向身体侧面。',
      '手肘贴近肋骨，停留 1 秒感受背部收缩。',
      '缓慢还原，再换另一侧。',
    ],
    tips: [
      '拉动时避免身体旋转，可空闲手扶住大腿稳定。',
      '如腰背吃力，身体可略向前倾支持背部。',
    ],
    visualId: 'rowSeated',
  },
  {
    id: 'kneeling-plank',
    name: '跪姿平板支撑',
    summary: '核心稳定基础动作，保护腰背同时提升腹部耐力。',
    focusAreas: ['腹横肌', '肩胛稳定'],
    equipment: '瑜伽垫',
    steps: [
      '前臂支撑在垫上，手肘位于肩膀正下方。',
      '膝盖着地，脚背放松，身体呈从头到膝的斜直线。',
      '保持腹部紧收、臀部微夹，维持呼吸自然。',
      '坚持 20-30 秒，可循环 2-3 次。',
    ],
    tips: [
      '如果腰部下塌，提醒自己提肚脐贴向脊柱。',
      '肩膀远离耳朵，让颈部放松。',
    ],
    visualId: 'kneelingPlank',
  },
  {
    id: 'band-external-rotation',
    name: '弹力带外旋',
    summary: '激活肩袖肌群，改善肩关节稳定性与姿势。',
    focusAreas: ['冈下肌', '小圆肌', '肩袖'],
    equipment: '弹力带',
    steps: [
      '弹力带一端固定在身体侧前方，另一端由外侧手握住。',
      '肘部弯曲 90° 并贴在身体侧面，可夹毛巾稳定。',
      '呼气时前臂向外旋开至约 45°，保持肩膀下沉。',
      '吸气慢慢回到起始位置。',
    ],
    tips: [
      '全程保持手肘贴身，动作由肩袖控制。',
      '如感觉肩部紧张，可先进行肩部热身拉伸。',
    ],
    visualId: 'bandExternalRotation',
  },
  {
    id: 'standing-band-row',
    name: '站姿划船（弹力带）',
    summary: '站姿进行的背部训练，模拟拉门或拉伸动作模式。',
    focusAreas: ['背阔肌', '后三角肌', '核心稳定'],
    equipment: '弹力带',
    steps: [
      '弹力带固定于前方胸口高度，双脚与肩同宽站立。',
      '手臂前伸握带，肩胛先收紧，再向后拉动手肘。',
      '保持胸口打开，呼气拉至手贴近肋骨。',
      '吸气还原，保持核心与骨盆稳定。',
    ],
    tips: [
      '避免耸肩或后仰，可前后错步增加稳定性。',
      '拉动时注意双肩同时发力，避免旋转。',
    ],
    visualId: 'standingRow',
  },
  {
    id: 'lateral-step',
    name: '半蹲侧步',
    summary: '结合有氧与臀部训练，强化髋部稳定并提升心率。',
    focusAreas: ['臀中肌', '股四头肌', '心肺'],
    equipment: '闭合弹力带（可选）',
    steps: [
      '套上弹力带于膝或踝部，双脚与肩同宽半蹲。',
      '保持膝盖对齐脚尖，核心收紧。',
      '先将右脚向侧迈一步，左脚跟进但保持张力。',
      '动作连续进行 8-10 步后换方向。',
    ],
    tips: [
      '全过程维持半蹲深度，避免膝盖内扣。',
      '若膝盖不适，可提高蹲位或取消弹力带。',
    ],
    visualId: 'lateralStep',
  },
  {
    id: 'reverse-crunch',
    name: '反向卷腹',
    summary: '温和激活下腹部与髋屈肌，改善核心控制。',
    focusAreas: ['腹直肌下段', '髋屈肌'],
    equipment: '瑜伽垫',
    steps: [
      '仰卧，双腿屈膝抬起 90°，双手扶于身体两侧。',
      '呼气时收腹，将膝盖向胸口方向收紧，臀部略离地。',
      '吸气缓慢放下，脚尖轻点地面但不完全放下腿。',
      '重复 10-12 次，保持腰部贴地。',
    ],
    tips: [
      '动作由核心发力，避免借力甩腿。',
      '若腰部不适，可减小膝盖回落幅度。',
    ],
    visualId: 'reverseCrunch',
  },
  {
    id: 'standing-shoulder-press',
    name: '站姿推肩',
    summary: '强化三角肌与上肢稳定，提高推举能力。',
    focusAreas: ['三角肌', '核心稳定'],
    equipment: '弹力带或轻哑铃',
    steps: [
      '双脚与肩同宽站立，持弹力带或哑铃于肩上方。',
      '核心收紧，肘部略向前，掌心朝前或相对。',
      '呼气时向上推举至手臂伸直，避免耸肩。',
      '吸气控制下降至耳朵高度，重复动作。',
    ],
    tips: [
      '腰椎保持中立，可微屈膝增加稳定。',
      '若肩部活动受限，可改为坐姿或单手进行。',
    ],
    visualId: 'shoulderPress',
  },
  {
    id: 'downward-dog',
    name: '下犬式',
    summary: '全身拉伸动作，重点延展小腿、腘绳肌与背部。',
    focusAreas: ['后链拉伸', '肩膀稳定'],
    equipment: '瑜伽垫',
    steps: [
      '从四点支撑开始，脚趾扣地，臀部向上抬起。',
      '双臂与躯干成一条线，头部放松，目视双脚。',
      '脚跟朝地面方向延伸，可微屈膝减轻拉伸感。',
      '保持 3-5 次深呼吸，缓慢放下回到起始位置。',
    ],
    tips: [
      '肩膀保持外旋，手指张开平均受力。',
      '如手腕压力大，可用瑜伽砖支撑或改为海豚式。',
    ],
    visualId: 'downwardDog',
  },
  {
    id: 'quad-stretch',
    name: '股四头肌拉伸',
    summary: '放松大腿前侧，预防膝前侧紧绷与下肢酸痛。',
    focusAreas: ['股四头肌', '髋屈肌'],
    equipment: '墙面或椅子支撑',
    steps: [
      '面向墙壁站立，左手扶墙稳定。',
      '右手从身后抓住右脚背，膝盖并拢。',
      '轻收腹部，将脚跟向臀部靠近，保持身体直立。',
      '保持 20-30 秒，换边进行。',
    ],
    tips: [
      '膝盖指向地面，不要外翻。',
      '如难以抓脚，可使用毛巾辅助。',
    ],
    visualId: 'quadStretch',
  },
  {
    id: 'chest-stretch',
    name: '胸肌拉伸',
    summary: '改善肩前紧绷与含胸，适合久坐后舒缓胸肩。',
    focusAreas: ['胸大肌', '胸小肌'],
    equipment: '墙面或门框',
    steps: [
      '面向墙壁站立，右手扶墙，手臂与肩同高或略低。',
      '身体缓慢向左旋转，让胸部打开感受拉伸。',
      '保持肩膀下沉，拉伸 20-30 秒后换边。',
      '全程呼吸平稳，避免猛力后仰。',
    ],
    tips: [
      '手肘微弯，避免关节过伸。',
      '若肩部敏感，可降低手臂高度或改为门框支撑。',
    ],
    visualId: 'chestStretch',
  },
]

export const exerciseById = Object.fromEntries(
  exerciseLibrary.map((exercise) => [exercise.id, exercise]),
)

